{
    "template_id": "schedule-appointments",
    "name": "Schedule Appointments",
    "description": "Template for a service that lets users schedule, reschedule, cancel and check their upcoming appointments.",
    "service": {
        "convo_service_version": 37,
        "packages": [
            "convo-core",
            "convo-appointments",
            "convo-wp-plugin-pack",
            "convo-alexa"
        ],
        "contexts": [
            {
                "class": "\\Convo\\Pckg\\Appointments\\DummyAppointmentsContext",
                "namespace": "convo-appointments",
                "properties": {
                    "id": "appointments_ctx"
                }
            }
        ],
        "variables": {
            "APP_NAME": "Schedule Appointment",
            "DATE_FORMAT": "l, F j",
            "TIME_FORMAT": "g:i a",
            "FULL_DATE_FORMAT": "l, F j \\a\\t g:i a",
            "APPOINTMENTS": "appointments_ctx",
            "TIMEZONE_MODE": "DEFAULT",
            "TIMEZONE": "Europe\/Zagreb",
            "MAX_APPOINTMENTS_PER_PERSON": "${2}"
        },
        "preview_variables": [],
        "entities": [],
        "intents": [
            {
                "name": "NewAppointmentIntent",
                "utterances": [
                    {
                        "raw": "for appointment",
                        "model": [
                            {
                                "text": "for appointment"
                            }
                        ]
                    },
                    {
                        "raw": "schedule a new one",
                        "model": [
                            {
                                "text": "schedule a new one"
                            }
                        ]
                    },
                    {
                        "raw": "schedule",
                        "model": [
                            {
                                "text": "schedule"
                            }
                        ]
                    },
                    {
                        "raw": "schedule a new appointment",
                        "model": [
                            {
                                "text": "schedule a new appointment"
                            }
                        ]
                    },
                    {
                        "raw": "schedule an appointment",
                        "model": [
                            {
                                "text": "schedule an appointment"
                            }
                        ]
                    },
                    {
                        "raw": "schedule another",
                        "model": [
                            {
                                "text": "schedule another"
                            }
                        ]
                    },
                    {
                        "raw": "another appointment",
                        "model": [
                            {
                                "text": "another appointment"
                            }
                        ]
                    },
                    {
                        "raw": "schedule new",
                        "model": [
                            {
                                "text": "schedule new"
                            }
                        ]
                    },
                    {
                        "raw": "Can I book an appointment",
                        "model": [
                            {
                                "text": "Can I book an appointment"
                            }
                        ]
                    },
                    {
                        "raw": "Can I schedule an appointment",
                        "model": [
                            {
                                "text": "Can I schedule an appointment"
                            }
                        ]
                    },
                    {
                        "raw": "I want to book an appointment",
                        "model": [
                            {
                                "text": "I want to book an appointment"
                            }
                        ]
                    },
                    {
                        "raw": "Book an appointment",
                        "model": [
                            {
                                "text": "Book an appointment"
                            }
                        ]
                    },
                    {
                        "raw": "Create new appointment",
                        "model": [
                            {
                                "text": "Create new appointment"
                            }
                        ]
                    },
                    {
                        "raw": "I want to schedule new",
                        "model": [
                            {
                                "text": "I want to schedule new"
                            }
                        ]
                    },
                    {
                        "raw": "new appointment",
                        "model": [
                            {
                                "text": "new appointment"
                            }
                        ]
                    },
                    {
                        "raw": "I would like to schedule a new appointment",
                        "model": [
                            {
                                "text": "I would like to schedule a new appointment"
                            }
                        ]
                    },
                    {
                        "raw": "I want to schedule an appointment",
                        "model": [
                            {
                                "text": "I want to schedule an appointment"
                            }
                        ]
                    }
                ],
                "type": "custom"
            },
            {
                "name": "DateOnlyIntent",
                "utterances": [
                    {
                        "raw": "tomorrow",
                        "model": [
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            }
                        ]
                    }
                ],
                "type": "custom"
            },
            {
                "name": "TimeOnlyIntent",
                "utterances": [
                    {
                        "raw": "3pm",
                        "model": [
                            {
                                "type": "convo-core.time",
                                "text": "3pm",
                                "slot_value": "time"
                            }
                        ]
                    }
                ],
                "type": "custom"
            },
            {
                "name": "DateTimeOnlyIntent",
                "utterances": [
                    {
                        "raw": "tomorrow 3pm",
                        "model": [
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "3pm",
                                "slot_value": "time"
                            }
                        ]
                    }
                ],
                "type": "custom"
            },
            {
                "name": "TimeIntent",
                "utterances": [
                    {
                        "raw": "book at 9am",
                        "model": [
                            {
                                "text": "book at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "book 9am",
                        "model": [
                            {
                                "text": "book"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "book 9am appointment",
                        "model": [
                            {
                                "text": "book"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            },
                            {
                                "text": "appointment"
                            }
                        ]
                    },
                    {
                        "raw": "schedule 9am appointment",
                        "model": [
                            {
                                "text": "schedule"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            },
                            {
                                "text": "appointment"
                            }
                        ]
                    },
                    {
                        "raw": "schedule 9am",
                        "model": [
                            {
                                "text": "schedule"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "schedule at 9am",
                        "model": [
                            {
                                "text": "schedule at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "appointment at 9am",
                        "model": [
                            {
                                "text": "appointment at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "book an appointment at 9am",
                        "model": [
                            {
                                "text": "book an appointment at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "schedule an appointment at 9am",
                        "model": [
                            {
                                "text": "schedule an appointment at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "new appointment at 3pm",
                        "model": [
                            {
                                "text": "new appointment at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "3pm",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "book appointment at 3pm",
                        "model": [
                            {
                                "text": "book appointment at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "3pm",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "schedule appointment afternoon",
                        "model": [
                            {
                                "text": "schedule appointment"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "afternoon",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "how about afternoon",
                        "model": [
                            {
                                "text": "how about"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "afternoon",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "can we do afternoon",
                        "model": [
                            {
                                "text": "can we do"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "afternoon",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "is afternoon available",
                        "model": [
                            {
                                "text": "is"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "afternoon",
                                "slot_value": "time"
                            },
                            {
                                "text": "available"
                            }
                        ]
                    },
                    {
                        "raw": "I would like to book it for 3pm",
                        "model": [
                            {
                                "text": "I would like to book it for"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "3pm",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "at 3pm",
                        "model": [
                            {
                                "text": "at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "3pm",
                                "slot_value": "time"
                            }
                        ]
                    }
                ],
                "type": "custom"
            },
            {
                "name": "DateIntent",
                "utterances": [
                    {
                        "raw": "schedule on Monday",
                        "model": [
                            {
                                "text": "schedule on"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "book on Monday",
                        "model": [
                            {
                                "text": "book on"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "schedule Monday appointment",
                        "model": [
                            {
                                "text": "schedule"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "text": "appointment"
                            }
                        ]
                    },
                    {
                        "raw": "book Monday appointment",
                        "model": [
                            {
                                "text": "book"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "text": "appointment"
                            }
                        ]
                    },
                    {
                        "raw": "Monday suits me best",
                        "model": [
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "text": "suits me best"
                            }
                        ]
                    },
                    {
                        "raw": "Monday suits me",
                        "model": [
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "text": "suits me"
                            }
                        ]
                    },
                    {
                        "raw": "book Monday",
                        "model": [
                            {
                                "text": "book"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "schedule Monday",
                        "model": [
                            {
                                "text": "schedule"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "schedule an appointment on Monday",
                        "model": [
                            {
                                "text": "schedule an appointment on"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "schedule an appointment Monday",
                        "model": [
                            {
                                "text": "schedule an appointment"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "book appointment for tomorrow",
                        "model": [
                            {
                                "text": "book appointment for"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "schedule appointment at monday",
                        "model": [
                            {
                                "text": "schedule appointment at"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "monday",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "new appointment for tomorrow",
                        "model": [
                            {
                                "text": "new appointment for"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "tomorrow would be great",
                        "model": [
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            },
                            {
                                "text": "would be great"
                            }
                        ]
                    },
                    {
                        "raw": "tomorrow would be perfect",
                        "model": [
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            },
                            {
                                "text": "would be perfect"
                            }
                        ]
                    },
                    {
                        "raw": "can it be tomorrow",
                        "model": [
                            {
                                "text": "can it be"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "maybe tomorrow",
                        "model": [
                            {
                                "text": "maybe"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "let's try tomorrow",
                        "model": [
                            {
                                "text": "let's try"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "how about tomorrow",
                        "model": [
                            {
                                "text": "how about"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "can we do tomorrow",
                        "model": [
                            {
                                "text": "can we do"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            }
                        ]
                    }
                ],
                "type": "custom"
            },
            {
                "name": "DateTimeIntent",
                "utterances": [
                    {
                        "raw": "schedule Monday 9am appointment",
                        "model": [
                            {
                                "text": "schedule"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            },
                            {
                                "text": "appointment"
                            }
                        ]
                    },
                    {
                        "raw": "book Monday 9am appointment",
                        "model": [
                            {
                                "text": "book"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            },
                            {
                                "text": "appointment"
                            }
                        ]
                    },
                    {
                        "raw": "book Monday 9am",
                        "model": [
                            {
                                "text": "book"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "schedule Monday 9am",
                        "model": [
                            {
                                "text": "schedule"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "book on Monday at 9am",
                        "model": [
                            {
                                "text": "book on"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "text": "at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "schedule on Monday at 9am",
                        "model": [
                            {
                                "text": "schedule on"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "text": "at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "schedule an appointment Monday at 9am",
                        "model": [
                            {
                                "text": "schedule an appointment"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "text": "at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "book an appointment Monday at 9am",
                        "model": [
                            {
                                "text": "book an appointment"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "text": "at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "book an appointment on Monday at 9am",
                        "model": [
                            {
                                "text": "book an appointment on"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "text": "at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "schedule an appointment on Monday at 9am",
                        "model": [
                            {
                                "text": "schedule an appointment on"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "text": "at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "9am on Monday",
                        "model": [
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            },
                            {
                                "text": "on"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "what about Monday nine am",
                        "model": [
                            {
                                "text": "what about"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "nine am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "what about Monday at nine am",
                        "model": [
                            {
                                "text": "what about"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "text": "at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "nine am",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "book new for tomorrow afternoon",
                        "model": [
                            {
                                "text": "book new for"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "afternoon",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "book appointment for tomorrow at 3pm",
                        "model": [
                            {
                                "text": "book appointment for"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            },
                            {
                                "text": "at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "3pm",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "schedule appointment for tomorrow at 3pm",
                        "model": [
                            {
                                "text": "schedule appointment for"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            },
                            {
                                "text": "at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "3pm",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "tomorrow at 3pm",
                        "model": [
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            },
                            {
                                "text": "at"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "3pm",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "let's try tomorrow afternoon",
                        "model": [
                            {
                                "text": "let's try"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "afternoon",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "how about tomorrow afternoon",
                        "model": [
                            {
                                "text": "how about"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "afternoon",
                                "slot_value": "time"
                            }
                        ]
                    },
                    {
                        "raw": "Can we do tomorrow afternoon",
                        "model": [
                            {
                                "text": "Can we do"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "tomorrow",
                                "slot_value": "date"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "afternoon",
                                "slot_value": "time"
                            }
                        ]
                    }
                ],
                "type": "custom"
            },
            {
                "name": "Aboutntent",
                "utterances": [
                    {
                        "raw": "ask me company info",
                        "model": [
                            {
                                "text": "ask me company info"
                            }
                        ]
                    },
                    {
                        "raw": "give me company info",
                        "model": [
                            {
                                "text": "give me company info"
                            }
                        ]
                    },
                    {
                        "raw": "about company",
                        "model": [
                            {
                                "text": "about company"
                            }
                        ]
                    },
                    {
                        "raw": "your company info",
                        "model": [
                            {
                                "text": "your company info"
                            }
                        ]
                    },
                    {
                        "raw": "info about your company",
                        "model": [
                            {
                                "text": "info about your company"
                            }
                        ]
                    },
                    {
                        "raw": "information about your company",
                        "model": [
                            {
                                "text": "information about your company"
                            }
                        ]
                    },
                    {
                        "raw": "company information",
                        "model": [
                            {
                                "text": "company information"
                            }
                        ]
                    },
                    {
                        "raw": "information about company",
                        "model": [
                            {
                                "text": "information about company"
                            }
                        ]
                    },
                    {
                        "raw": "info about the company",
                        "model": [
                            {
                                "text": "info about the company"
                            }
                        ]
                    },
                    {
                        "raw": "info about our company",
                        "model": [
                            {
                                "text": "info about our company"
                            }
                        ]
                    },
                    {
                        "raw": "what do you do",
                        "model": [
                            {
                                "text": "what do you do"
                            }
                        ]
                    },
                    {
                        "raw": "about you",
                        "model": [
                            {
                                "text": "about you"
                            }
                        ]
                    },
                    {
                        "raw": "company info",
                        "model": [
                            {
                                "text": "company info"
                            }
                        ]
                    },
                    {
                        "raw": "tell me more about",
                        "model": [
                            {
                                "text": "tell me more about"
                            }
                        ]
                    },
                    {
                        "raw": "who are you",
                        "model": [
                            {
                                "text": "who are you"
                            }
                        ]
                    },
                    {
                        "raw": "tell me more about you",
                        "model": [
                            {
                                "text": "tell me more about you"
                            }
                        ]
                    },
                    {
                        "raw": "I would like to hear more about your company",
                        "model": [
                            {
                                "text": "I would like to hear more about your company"
                            }
                        ]
                    }
                ],
                "type": "custom"
            },
            {
                "name": "ListAppointmentsIntent",
                "utterances": [
                    {
                        "raw": "how many bookings do i have",
                        "model": [
                            {
                                "text": "how many bookings do i have"
                            }
                        ]
                    },
                    {
                        "raw": "list appointments",
                        "model": [
                            {
                                "text": "list appointments"
                            }
                        ]
                    },
                    {
                        "raw": "how many appointments do i have",
                        "model": [
                            {
                                "text": "how many appointments do i have"
                            }
                        ]
                    },
                    {
                        "raw": "list them all",
                        "model": [
                            {
                                "text": "list them all"
                            }
                        ]
                    },
                    {
                        "raw": "check the other",
                        "model": [
                            {
                                "text": "check the other"
                            }
                        ]
                    },
                    {
                        "raw": "get all upcoming appointments",
                        "model": [
                            {
                                "text": "get all upcoming appointments"
                            }
                        ]
                    },
                    {
                        "raw": "list the upcoming",
                        "model": [
                            {
                                "text": "list the upcoming"
                            }
                        ]
                    },
                    {
                        "raw": "check all your appointments",
                        "model": [
                            {
                                "text": "check all your appointments"
                            }
                        ]
                    },
                    {
                        "raw": "check upcoming appointments",
                        "model": [
                            {
                                "text": "check upcoming appointments"
                            }
                        ]
                    },
                    {
                        "raw": "list all the appointments",
                        "model": [
                            {
                                "text": "list all the appointments"
                            }
                        ]
                    },
                    {
                        "raw": "do I have any appointments",
                        "model": [
                            {
                                "text": "do I have any appointments"
                            }
                        ]
                    },
                    {
                        "raw": "what are my appointments",
                        "model": [
                            {
                                "text": "what are my appointments"
                            }
                        ]
                    },
                    {
                        "raw": "check all my appointments",
                        "model": [
                            {
                                "text": "check all my appointments"
                            }
                        ]
                    },
                    {
                        "raw": "get all upcoming",
                        "model": [
                            {
                                "text": "get all upcoming"
                            }
                        ]
                    },
                    {
                        "raw": "tell me my current appointments",
                        "model": [
                            {
                                "text": "tell me my current appointments"
                            }
                        ]
                    },
                    {
                        "raw": "show my appointments",
                        "model": [
                            {
                                "text": "show my appointments"
                            }
                        ]
                    },
                    {
                        "raw": "list my appointments",
                        "model": [
                            {
                                "text": "list my appointments"
                            }
                        ]
                    },
                    {
                        "raw": "do i have something scheduled",
                        "model": [
                            {
                                "text": "do i have something scheduled"
                            }
                        ]
                    },
                    {
                        "raw": "when is my appointment",
                        "model": [
                            {
                                "text": "when is my appointment"
                            }
                        ]
                    },
                    {
                        "raw": "when is my current appointment",
                        "model": [
                            {
                                "text": "when is my current appointment"
                            }
                        ]
                    },
                    {
                        "raw": "Do I have any appointments",
                        "model": [
                            {
                                "text": "Do I have any appointments"
                            }
                        ]
                    },
                    {
                        "raw": "Do I have any current appointments",
                        "model": [
                            {
                                "text": "Do I have any current appointments"
                            }
                        ]
                    }
                ],
                "type": "custom"
            },
            {
                "name": "CancelAppointmentIntent",
                "utterances": [
                    {
                        "raw": "cancel all appointments",
                        "model": [
                            {
                                "text": "cancel all appointments"
                            }
                        ]
                    },
                    {
                        "raw": "to cancel",
                        "model": [
                            {
                                "text": "to cancel"
                            }
                        ]
                    },
                    {
                        "raw": "cancel 9am appointment",
                        "model": [
                            {
                                "text": "cancel"
                            },
                            {
                                "type": "convo-core.time",
                                "text": "9am",
                                "slot_value": "time"
                            },
                            {
                                "text": "appointment"
                            }
                        ]
                    },
                    {
                        "raw": "cancel Monday appointment",
                        "model": [
                            {
                                "text": "cancel"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "text": "appointment"
                            }
                        ]
                    },
                    {
                        "raw": "cancel my Monday appointment",
                        "model": [
                            {
                                "text": "cancel my"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            },
                            {
                                "text": "appointment"
                            }
                        ]
                    },
                    {
                        "raw": "cancel my appointment on Monday",
                        "model": [
                            {
                                "text": "cancel my appointment on"
                            },
                            {
                                "type": "convo-core.date",
                                "text": "Monday",
                                "slot_value": "date"
                            }
                        ]
                    },
                    {
                        "raw": "cancel my upcoming appointment",
                        "model": [
                            {
                                "text": "cancel my upcoming appointment"
                            }
                        ]
                    },
                    {
                        "raw": "cancel my first appointment",
                        "model": [
                            {
                                "text": "cancel my first appointment"
                            }
                        ]
                    },
                    {
                        "raw": "cancel this appointment",
                        "model": [
                            {
                                "text": "cancel this appointment"
                            }
                        ]
                    },
                    {
                        "raw": "delete",
                        "model": [
                            {
                                "text": "delete"
                            }
                        ]
                    },
                    {
                        "raw": "remove",
                        "model": [
                            {
                                "text": "remove"
                            }
                        ]
                    },
                    {
                        "raw": "discard",
                        "model": [
                            {
                                "text": "discard"
                            }
                        ]
                    },
                    {
                        "raw": "delete this appointment",
                        "model": [
                            {
                                "text": "delete this appointment"
                            }
                        ]
                    },
                    {
                        "raw": "remove appointment",
                        "model": [
                            {
                                "text": "remove appointment"
                            }
                        ]
                    },
                    {
                        "raw": "cancel it",
                        "model": [
                            {
                                "text": "cancel it"
                            }
                        ]
                    },
                    {
                        "raw": "cancel last appointment",
                        "model": [
                            {
                                "text": "cancel last appointment"
                            }
                        ]
                    },
                    {
                        "raw": "i want to remove appointment",
                        "model": [
                            {
                                "text": "i want to remove appointment"
                            }
                        ]
                    },
                    {
                        "raw": "i wan to discard appointment",
                        "model": [
                            {
                                "text": "i wan to discard appointment"
                            }
                        ]
                    },
                    {
                        "raw": "cancel appointment",
                        "model": [
                            {
                                "text": "cancel appointment"
                            }
                        ]
                    },
                    {
                        "raw": "I want to cancel appointment",
                        "model": [
                            {
                                "text": "I want to cancel appointment"
                            }
                        ]
                    }
                ],
                "type": "custom"
            },
            {
                "name": "RescheduleAppointmentIntent",
                "utterances": [
                    {
                        "raw": "reschedule the appointment",
                        "model": [
                            {
                                "text": "reschedule the appointment"
                            }
                        ]
                    },
                    {
                        "raw": "change appointment",
                        "model": [
                            {
                                "text": "change appointment"
                            }
                        ]
                    },
                    {
                        "raw": "reschedule this appointment",
                        "model": [
                            {
                                "text": "reschedule this appointment"
                            }
                        ]
                    },
                    {
                        "raw": "reschedule an appointment",
                        "model": [
                            {
                                "text": "reschedule an appointment"
                            }
                        ]
                    },
                    {
                        "raw": "i would like to reschedule",
                        "model": [
                            {
                                "text": "i would like to reschedule"
                            }
                        ]
                    },
                    {
                        "raw": "i would like to change time",
                        "model": [
                            {
                                "text": "i would like to change time"
                            }
                        ]
                    },
                    {
                        "raw": "change appointment date",
                        "model": [
                            {
                                "text": "change appointment date"
                            }
                        ]
                    },
                    {
                        "raw": "i want to change appointment time",
                        "model": [
                            {
                                "text": "i want to change appointment time"
                            }
                        ]
                    },
                    {
                        "raw": "reschedule appointment",
                        "model": [
                            {
                                "text": "reschedule appointment"
                            }
                        ]
                    },
                    {
                        "raw": "I want to reschedule",
                        "model": [
                            {
                                "text": "I want to reschedule"
                            }
                        ]
                    },
                    {
                        "raw": "reschedule",
                        "model": [
                            {
                                "text": "reschedule"
                            }
                        ]
                    }
                ],
                "type": "custom"
            }
        ],
        "blocks": [
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ConversationBlock",
                "namespace": "convo-core",
                "properties": {
                    "role": "session_start",
                    "block_id": "Session_start",
                    "name": "Session start",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\RunOnceElement",
                            "namespace": "convo-core",
                            "properties": {
                                "scope_type": "installation",
                                "name": "Novice users",
                                "child": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium",
                                            "text": "Welcome to ${APP_NAME}.",
                                            "append": false
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium",
                                            "text": "I can help you schedule an appointment.",
                                            "append": false
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Working_hours"
                                        }
                                    }
                                ],
                                "else": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium",
                                            "text": "Welcome back!",
                                            "append": false
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                            "namespace": "convo-core",
                            "properties": {
                                "value": "home",
                                "next": false
                            }
                        }
                    ],
                    "processors": [],
                    "fallback": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "Excuse me?",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                            "namespace": "convo-core",
                            "properties": {
                                "value": "home",
                                "next": false
                            }
                        }
                    ],
                    "pre_dispatch": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                            "namespace": "convo-core",
                            "properties": {
                                "fragment_id": "Check_user_profile"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ConversationBlock",
                "namespace": "convo-core",
                "properties": {
                    "block_id": "home",
                    "role": "conversation_block",
                    "name": "Home",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                            "namespace": "convo-core",
                            "properties": {
                                "fragment_id": "Initialize_new_appintment"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Appointments\\LoadAppointmentsElement",
                            "namespace": "convo-appointments",
                            "properties": {
                                "context_id": "${APPOINTMENTS}",
                                "email": "${user_email}",
                                "mode": "current",
                                "number_of_appointments_to_load": "10",
                                "return_var": "status",
                                "single": [],
                                "multiple": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "value": "Existing_Appointments",
                                            "next": false
                                        }
                                    }
                                ],
                                "empty": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\RunOnceElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "installation",
                                            "name": null,
                                            "child": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Would you like to schedule an appointment?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ],
                                            "else": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "You don't have any scheduled appointments.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Would you like to schedule one?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "reprompt",
                                            "text": "Do you want to schedule an appointment? Say yes or no.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "_use_var_context_id": true,
                                "timezone_mode": "SET",
                                "timezone": "${TIMEZONE}"
                            }
                        }
                    ],
                    "processors": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\YesNoProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": null,
                                "yes": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "value": "Schedule_Appointment",
                                            "next": false
                                        }
                                    }
                                ],
                                "no": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ElementRandomizer",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": "Conversation markers",
                                            "mode": "wild",
                                            "elements": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Okay.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Sure.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "All right.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ],
                                            "loop": true,
                                            "is_repeat": "",
                                            "scope_type": "installation"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\RunOnceElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "installation",
                                            "name": null,
                                            "child": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "value": "About",
                                                        "next": false
                                                    }
                                                }
                                            ],
                                            "else": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "fragment_id": "Change_mind_statement"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "fragment_id": "Exit"
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Help - no appointments",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "I can help you schedule an appointment. To schedule one say yes. Otherwise say no.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "reprompt",
                                            "text": "Would you like to schedule an appointment? Say yes or no.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.HelpIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ],
                    "fallback": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "Sorry, do you want to schedule an appointment? Say yes or no.",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "reprompt",
                                "text": "Another appointment? Yes or no?",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ConversationBlock",
                "namespace": "convo-core",
                "properties": {
                    "role": "conversation_block",
                    "block_id": "Schedule_Appointment",
                    "name": "Schedule Appointment - Set Date and Time",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                            "namespace": "convo-core",
                            "properties": {
                                "test": "${!new_appointment.date && !new_appointment.time}",
                                "then": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\CommentElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "comment": "NOTHING SET YET",
                                            "context": null
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "What day or date suits you best?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "reprompt",
                                            "text": "Sorry, what day or date was that?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "else_if": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${!new_appointment.date && new_appointment.time}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\CommentElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "comment": "DATE NOT SET YET",
                                                        "context": null
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "And what day or date?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "reprompt",
                                                        "text": "Sorry, what day or date suits you?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${new_appointment.date && !new_appointment.time}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\CommentElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "comment": "TIME NOT SET YET, ASK FOR IT",
                                                        "context": null
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "request",
                                                        "properties": {
                                                            "date_info": "${relative_date( new_appointment.date)}"
                                                        },
                                                        "parameters": "service"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\CommentElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "comment": "FORMAT AS FRIENDLY DATE",
                                                        "context": null
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "test": "${date_info.today}",
                                                        "then": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "scope_type": "request",
                                                                    "properties": {
                                                                        "formatted": "Today"
                                                                    },
                                                                    "parameters": "service"
                                                                }
                                                            }
                                                        ],
                                                        "else_if": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "test": "${date_info.tomorrow}",
                                                                    "then": [
                                                                        {
                                                                            "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                                            "namespace": "convo-core",
                                                                            "properties": {
                                                                                "scope_type": "request",
                                                                                "properties": {
                                                                                    "formatted": "Tomorrow"
                                                                                },
                                                                                "parameters": "service"
                                                                            }
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        ],
                                                        "else": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "scope_type": "request",
                                                                    "properties": {
                                                                        "formatted": "${date('l', strtotime(new_appointment.date))}"
                                                                    },
                                                                    "parameters": "service"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "And what time do you want your appointment?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "reprompt",
                                                        "text": "What time was that?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "else": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\CommentElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "comment": "DATE AND TIME BOTH SET - CHECK AVAILIBILITY",
                                            "context": null
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "request",
                                            "properties": {
                                                "dateformat_date": "${ new_appointment.date ~\" \"~ new_appointment.time}"
                                            },
                                            "parameters": "service"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Function_Friendly_format_full_date"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\RunOnceElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "session",
                                            "name": null,
                                            "child": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ElementRandomizer",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "name": "Checking availability",
                                                        "mode": "wild",
                                                        "elements": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "Okay. Let me check availability. <break time=\"1s\"\/>",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "Got it. Let me just check real quick. <break time=\"1s\"\/>",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "All right. Just a sec. <break time=\"1s\"\/>",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium",
                                                                    "_use_var_append": true
                                                                }
                                                            }
                                                        ],
                                                        "loop": true,
                                                        "is_repeat": "",
                                                        "scope_type": "installation"
                                                    }
                                                }
                                            ],
                                            "else": []
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\CommentElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "comment": "FIX TO PREVENT NEW APOINTMENT CREATION NOT WORKING",
                                            "context": null
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${initialize_new == true}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "session",
                                                        "parameters": "service",
                                                        "properties": {
                                                            "current_id": "${null}"
                                                        }
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "session",
                                                        "parameters": "service",
                                                        "properties": {
                                                            "initialize_new": "${false}"
                                                        }
                                                    }
                                                }
                                            ],
                                            "else_if": [],
                                            "else": []
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${!current_id}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\CommentElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "comment": "HANDLE MAX APPOINTMENTS PER PERSON",
                                                        "context": null
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "fragment_id": "MAX_NUMBER_CHECK"
                                                    }
                                                }
                                            ],
                                            "else_if": [],
                                            "else": []
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Appointments\\CheckAppointmentTimeElement",
                                        "namespace": "convo-appointments",
                                        "properties": {
                                            "context_id": "${APPOINTMENTS}",
                                            "appointment_date": "${new_appointment.date}",
                                            "appointment_time": "${new_appointment.time}",
                                            "result_var": "status",
                                            "available_flow": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "test": "${current_id}",
                                                        "then": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "value": "Reschedule_Appointment_Confirm",
                                                                    "next": false
                                                                }
                                                            }
                                                        ],
                                                        "else_if": [],
                                                        "else": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "value": "Schedule_Appointment_Confirm",
                                                                    "next": false
                                                                }
                                                            }
                                                        ]
                                                    }
                                                }
                                            ],
                                            "no_suggestions_flow": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "test": "${status.not_allowed}",
                                                        "then": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "fragment_id": "Working_days_and_hours_not_allowed"
                                                                }
                                                            }
                                                        ],
                                                        "else_if": [],
                                                        "else": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "Unfortunately ${dateformat_formatted} isn't available.",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Do you want to try another appointment?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "reprompt",
                                                        "text": "Do you want another appointment?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ],
                                            "suggestions_flow": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "test": "${status.not_allowed}",
                                                        "then": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "fragment_id": "Working_days_and_hours_not_allowed"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "Do you want to try another appointment?",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "reprompt",
                                                                    "text": "Do you want another appointment?",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            }
                                                        ],
                                                        "else_if": [],
                                                        "else": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementRandomizer",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "name": null,
                                                                    "mode": "wild",
                                                                    "elements": [
                                                                        {
                                                                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                            "namespace": "convo-core",
                                                                            "properties": {
                                                                                "type": "default",
                                                                                "text": "Unfortunately ${dateformat_formatted} isn't available.",
                                                                                "append": false,
                                                                                "alexa_domain": "normal",
                                                                                "alexa_emotion": "neutral",
                                                                                "alexa_emotion_intensity": "medium"
                                                                            }
                                                                        },
                                                                        {
                                                                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                            "namespace": "convo-core",
                                                                            "properties": {
                                                                                "type": "default",
                                                                                "text": "I'm sorry, but ${dateformat_formatted}  isn't available.",
                                                                                "append": false,
                                                                                "alexa_domain": "normal",
                                                                                "alexa_emotion": "neutral",
                                                                                "alexa_emotion_intensity": "medium"
                                                                            }
                                                                        }
                                                                    ],
                                                                    "loop": true,
                                                                    "is_repeat": "",
                                                                    "scope_type": "installation"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "The closest available appointments I can offer you are:",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "fragment_id": "Read_suggestions_new"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "Do you want to book any of those?",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "reprompt",
                                                                    "text": "Do you want to try booking any of the available appointments?  Say yes or no.",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                }
                                            ],
                                            "single_suggestion_flow": [],
                                            "timezone_mode": "SET",
                                            "_use_var_context_id": true,
                                            "suggestions_builder": {
                                                "class": "\\Convo\\Pckg\\Appointments\\DefaultFreeSlotQueue",
                                                "namespace": "convo-appointments",
                                                "properties": {
                                                    "max_suggestions": "4"
                                                }
                                            },
                                            "timezone": "${TIMEZONE}"
                                        }
                                    }
                                ]
                            }
                        }
                    ],
                    "processors": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\ProcessProcessorFragment",
                            "namespace": "convo-core",
                            "properties": {
                                "fragment_id": "Process_cancel_flow"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\YesNoProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Book suggested",
                                "yes": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Initialize_new_appintment"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Can you tell me the date you'd like?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "no": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ElementRandomizer",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "mode": "wild",
                                            "elements": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "No problem.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "That's okay.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ],
                                            "loop": true,
                                            "is_repeat": "",
                                            "scope_type": "installation"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Thanks for using ${APP_NAME}!",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Exit"
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Help - set date, time, suggestions",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${!new_appointment.date && !new_appointment.time || !new_appointment.date && new_appointment.time}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "fragment_id": "Working_hours"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Can you tell me what day or date do you want your appointment?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "reprompt",
                                                        "text": "Sorry, what day or date was that?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ],
                                            "else_if": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "test": "${new_appointment.date && !new_appointment.time}",
                                                        "then": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "fragment_id": "Working_hours"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "What time do you want your appointment?",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "reprompt",
                                                                    "text": "Sorry, what time was that?",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                }
                                            ],
                                            "else": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\CommentElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "comment": "SUGGESTIONS, DATE AND\/OR TIME NOT AVAILABLE",
                                                        "context": null
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Appointments\\CheckAppointmentTimeElement",
                                                    "namespace": "convo-appointments",
                                                    "properties": {
                                                        "context_id": "${APPOINTMENTS}",
                                                        "appointment_date": "${new_appointment.date}",
                                                        "appointment_time": "${new_appointment.time}",
                                                        "result_var": "status",
                                                        "available_flow": [],
                                                        "no_suggestions_flow": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "I'm sorry, but your chosen date is booked or unavailable.  Do you want to try booking another one?",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "reprompt",
                                                                    "text": "Your chosen date isn't available.\nDo you want to try booking another appointment?",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            }
                                                        ],
                                                        "suggestions_flow": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "Unfortunately, your chosen date is booked or unavailable.  Do you want to schedule any of the available ones?",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "reprompt",
                                                                    "text": "Do you want to try booking any of the available appointments?  Say yes or no.",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            }
                                                        ],
                                                        "single_suggestion_flow": [],
                                                        "timezone_mode": "DEFAULT",
                                                        "_use_var_context_id": true,
                                                        "suggestions_builder": {
                                                            "class": "\\Convo\\Pckg\\Appointments\\DefaultFreeSlotQueue",
                                                            "namespace": "convo-appointments",
                                                            "properties": {
                                                                "max_suggestions": "4"
                                                            }
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.HelpIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ],
                    "fallback": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                            "namespace": "convo-core",
                            "properties": {
                                "test": "${!new_appointment.date && !new_appointment.time || !new_appointment.date && new_appointment.time}",
                                "then": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Sorry, what day or date was that?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "reprompt",
                                            "text": "What date or day?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "else_if": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${new_appointment.date && !new_appointment.time}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Sorry, what time was that?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "reprompt",
                                                        "text": "What time?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "else": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Sorry, do you want to try booking another appointment?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "reprompt",
                                            "text": "Do you want another appointment? Yes or no?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ConversationBlock",
                "namespace": "convo-core",
                "properties": {
                    "role": "conversation_block",
                    "block_id": "Schedule_Appointment_Confirm",
                    "name": "Schedule Appointment - Confirm",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                            "namespace": "convo-core",
                            "properties": {
                                "scope_type": "request",
                                "properties": {
                                    "dateformat_date": "${ new_appointment.date ~\" \"~ new_appointment.time}"
                                },
                                "parameters": "service"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                            "namespace": "convo-core",
                            "properties": {
                                "fragment_id": "Function_Friendly_format_full_date"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "${dateformat_formatted} is available.",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "Would you like to book it?",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "reprompt",
                                "text": "Sorry, do you want to book the ${dateformat_formatted} appointment?",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        }
                    ],
                    "processors": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\YesNoProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Create new appointment",
                                "yes": [
                                    {
                                        "class": "\\Convo\\Pckg\\Appointments\\CreateAppointmentElement",
                                        "namespace": "convo-appointments",
                                        "properties": {
                                            "context_id": "${APPOINTMENTS}",
                                            "email": "${user_email}",
                                            "appointment_date": "${new_appointment.date}",
                                            "appointment_time": "${new_appointment.time}",
                                            "payload": {
                                                "Name": "${user_name}",
                                                "Phone": "${user_phone}"
                                            },
                                            "result_var": "status",
                                            "ok": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "fragment_id": "Initialize_new_appintment"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ElementRandomizer",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "name": null,
                                                        "mode": "wild",
                                                        "elements": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "That's it. Your appointment is now scheduled.",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "Great! I've scheduled your appointment.",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            }
                                                        ],
                                                        "loop": true,
                                                        "is_repeat": "",
                                                        "scope_type": "installation"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\RunOnceElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "installation",
                                                        "name": null,
                                                        "child": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "Next time when you start the app you'll be able to reschedule or cancel.",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            }
                                                        ],
                                                        "else": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "Next time you open ${APP_NAME}, you'll get a reminder.",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "fragment_id": "Exit"
                                                    }
                                                }
                                            ],
                                            "not_available": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "value": "Schedule_Appointment",
                                                        "next": false
                                                    }
                                                }
                                            ],
                                            "timezone_mode": "SET",
                                            "_use_var_context_id": true,
                                            "timezone": "${TIMEZONE}"
                                        }
                                    }
                                ],
                                "no": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Read_alright"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Initialize_new_appintment"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "value": "home",
                                            "next": false
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\ProcessProcessorFragment",
                            "namespace": "convo-core",
                            "properties": {
                                "fragment_id": "Process_cancel_flow"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Help - confirm appointment",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Say yes to confirm the appointment. Otherwise, say no.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "reprompt",
                                            "text": "Do you want to book the appointment? Say yes or no.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.HelpIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ],
                    "fallback": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "Sorry, do you want to book the appointment? Yes or no?",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "reprompt",
                                "text": "To book the appointment, sey yes.",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ConversationBlock",
                "namespace": "convo-core",
                "properties": {
                    "role": "conversation_block",
                    "block_id": "Reschedule_Appointment_Confirm",
                    "name": "Reschedule Appointment - Confirm",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                            "namespace": "convo-core",
                            "properties": {
                                "scope_type": "request",
                                "properties": {
                                    "dateformat_date": "${ new_appointment.date ~\" \"~ new_appointment.time}"
                                },
                                "parameters": "service"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                            "namespace": "convo-core",
                            "properties": {
                                "fragment_id": "Function_Friendly_format_full_date"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "It's available.",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "Should I reschedule your appointment to ${dateformat_formatted}?",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "reprompt",
                                "text": "Should I replace your old appointment with ${dateformat_formatted}? Yes or no?",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        }
                    ],
                    "processors": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\YesNoProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Save updated appointment",
                                "yes": [
                                    {
                                        "class": "\\Convo\\Pckg\\Appointments\\UpdateAppointmentElement",
                                        "namespace": "convo-appointments",
                                        "properties": {
                                            "context_id": "${APPOINTMENTS}",
                                            "appointment_id": "${current_id}",
                                            "email": "${user_email}",
                                            "appointment_date": "${new_appointment.date}",
                                            "appointment_time": "${new_appointment.time}",
                                            "payload": {
                                                "Name": "${user_name}",
                                                "Phone": "${user_phone}"
                                            },
                                            "result_var": "status",
                                            "ok": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Got it.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "I've rescheduled your appointment.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Thank you for using ${APP_NAME}!",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "fragment_id": "Initialize_new_appintment"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "fragment_id": "Exit"
                                                    }
                                                }
                                            ],
                                            "not_found": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Something went wrong. I'm sorry, I couldn't find the existing appointment. Please try again later.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "fragment_id": "Exit"
                                                    }
                                                }
                                            ],
                                            "not_available": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "value": "Schedule_Appointment",
                                                        "next": false
                                                    }
                                                }
                                            ],
                                            "timezone_mode": "SET",
                                            "_use_var_context_id": true,
                                            "timezone": "${TIMEZONE}"
                                        }
                                    }
                                ],
                                "no": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "session",
                                            "properties": {
                                                "current_id": "${null}"
                                            },
                                            "parameters": "service"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Read_alright"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Change_mind_statement"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Exit"
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Help - reschedule confirm",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "If you want to replace the old appointment with the new one, say yes. To, exit, say no.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "reprompt",
                                            "text": "Would you like to confirm the change to your appointment date? Yes or no?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.HelpIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ],
                    "fallback": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "Sorry, should I reschedule your appointment? Say yes or no.",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "reprompt",
                                "text": "To confirm the reschedule, say yes.",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ConversationBlock",
                "namespace": "convo-core",
                "properties": {
                    "role": "conversation_block",
                    "block_id": "Existing_Appointments",
                    "name": "Existing Appointments",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Appointments\\LoadAppointmentsElement",
                            "namespace": "convo-appointments",
                            "properties": {
                                "context_id": "${APPOINTMENTS}",
                                "email": "${user_email}",
                                "mode": "current",
                                "number_of_appointments_to_load": "10",
                                "return_var": "status",
                                "single": [],
                                "multiple": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "request",
                                            "properties": {
                                                "current_appoinment": "${ status.appointments[0]}",
                                                "dateformat_date": "${current_appoinment.timestamp}"
                                            },
                                            "parameters": "service"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "session",
                                            "properties": {
                                                "current_id": "${ current_appoinment.appointment_id}",
                                                "question_context": "reschedule"
                                            },
                                            "parameters": "service"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Function_Friendly_format_full_date"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${count( status.appointments) === 1}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "You have one upcoming appointment ${dateformat_formatted}.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Would you like to reschedule or cancel the appointment?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "reprompt",
                                                        "text": "What do you want to do: reschedule or cancel the appointment?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ],
                                            "else_if": [],
                                            "else": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "You have ${count( status.appointments)} appointments, with the first one ${dateformat_formatted}.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "test": "${count( status.appointments) < 3}",
                                                        "then": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "What do you want to do: cancel the first one, or check when the other is?",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "reprompt",
                                                                    "text": "Do you want to cancel the first appointment, reschedule, or check the other?",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            }
                                                        ],
                                                        "else_if": [],
                                                        "else": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "What do you want to do: cancel the first one, or check the others?",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "reprompt",
                                                                    "text": "Do you want to cancel the first appointment, reschedule, or check the others?",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "empty": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "You don't have any scheduled appointments.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Would you like to schedule one now?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "session",
                                            "properties": {
                                                "question_context": "book_new"
                                            },
                                            "parameters": "service"
                                        }
                                    }
                                ],
                                "timezone_mode": "SET",
                                "_use_var_context_id": true,
                                "timezone": "${TIMEZONE}"
                            }
                        }
                    ],
                    "processors": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Cancel appointment",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "session",
                                            "properties": {
                                                "question_context": "${null}"
                                            },
                                            "parameters": "service"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "value": "Existing_Appointments_Cancel",
                                            "next": false
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "CancelAppointmentIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.CancelIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Reschedule appointment",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "session",
                                            "properties": {
                                                "question_context": "${null}"
                                            },
                                            "parameters": "service"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Initialize_new_appintment"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Reschedule.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Read_alright"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "value": "Schedule_Appointment",
                                            "next": false
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "RescheduleAppointmentIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Yes - Schedule or cancel",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${question_context === 'reschedule'}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Which one is it: reschedule or cancel?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "reprompt",
                                                        "text": "Which one would you like: reschedule or cancel?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ],
                                            "else_if": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "test": "${question_context === 'book_new'}",
                                                        "then": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "scope_type": "session",
                                                                    "properties": {
                                                                        "question_context": "${null}"
                                                                    },
                                                                    "parameters": "service"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "value": "Schedule_Appointment",
                                                                    "next": false
                                                                }
                                                            }
                                                        ]
                                                    }
                                                }
                                            ],
                                            "else": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Sorry, I didn't understand.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.YesIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "No - Don't want to reschedule or cancel",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${question_context === 'reschedule' || question_context === 'book_new'}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "session",
                                                        "properties": {
                                                            "question_context": "${null}"
                                                        },
                                                        "parameters": "service"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "fragment_id": "Read_alright"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "fragment_id": "Exit"
                                                    }
                                                }
                                            ],
                                            "else_if": [],
                                            "else": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Sorry, please repeat.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadBlockAgainElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.NoIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Help -  reschedule, cancel, new appointment",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Appointments\\LoadAppointmentsElement",
                                        "namespace": "convo-appointments",
                                        "properties": {
                                            "context_id": "${APPOINTMENTS}",
                                            "email": "${user_email}",
                                            "mode": "current",
                                            "number_of_appointments_to_load": "10",
                                            "return_var": "status",
                                            "single": [],
                                            "multiple": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "You can tell me to reschedule or cancel your upcoming appointment.   To check all your appointments, simply say 'check'. What is your choice?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "reprompt",
                                                        "text": "What do you want to do: reschedule, cancel the appointment or check appointments?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ],
                                            "empty": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "session",
                                                        "properties": {
                                                            "question_context": "book_new"
                                                        },
                                                        "parameters": "service"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "I can help you schedule an appointment. To schedule an appointment say yes. Otherwise say no.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "reprompt",
                                                        "text": "Say yes to schedule an appointment. Otherwise say no.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ],
                                            "timezone_mode": "SET",
                                            "_use_var_context_id": true,
                                            "timezone": "${TIMEZONE}"
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.HelpIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ],
                    "fallback": [
                        {
                            "class": "\\Convo\\Pckg\\Appointments\\LoadAppointmentsElement",
                            "namespace": "convo-appointments",
                            "properties": {
                                "context_id": "${APPOINTMENTS}",
                                "email": "${user_email}",
                                "mode": "current",
                                "number_of_appointments_to_load": "10",
                                "return_var": "status",
                                "single": [],
                                "multiple": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Sorry, do you want to cancel your first appointment, reschedule, or check appointments?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "reprompt",
                                            "text": "Do you want to cancel appointment, reschedule, or check appointments?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "empty": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Sorry, what do you want to do: reschedule, cancel appointment, or stop?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "reprompt",
                                            "text": "What do you want to do: reschedule, cancel, or stop?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "timezone_mode": "DEFAULT",
                                "_use_var_context_id": true
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ConversationBlock",
                "namespace": "convo-core",
                "properties": {
                    "role": "conversation_block",
                    "block_id": "Existing_Appointments_Cancel",
                    "name": "Existing Appointments - Confirm cancelation",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Appointments\\LoadAppointmentElement",
                            "namespace": "convo-appointments",
                            "properties": {
                                "context_id": "${APPOINTMENTS}",
                                "appointment_id": "${current_id}",
                                "email": "${user_email}",
                                "return_var": "status",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "request",
                                            "properties": {
                                                "dateformat_date": "${ status.appointment.timestamp}"
                                            },
                                            "parameters": "service"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Function_Friendly_format_full_date"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Are you sure you want to cancel the ${dateformat_formatted} appointment?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "reprompt",
                                            "text": "Should I cancel your ${dateformat_formatted} appointment?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "not_found": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Something went wrong. I can't find the appointment. Please try again later.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\EndSessionElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                        }
                                    }
                                ],
                                "timezone_mode": "SET",
                                "_use_var_context_id": true,
                                "timezone": "${TIMEZONE}"
                            }
                        }
                    ],
                    "processors": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\YesNoProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Cancel appointment",
                                "yes": [
                                    {
                                        "class": "\\Convo\\Pckg\\Appointments\\CancelAppointmentElement",
                                        "namespace": "convo-appointments",
                                        "properties": {
                                            "context_id": "${APPOINTMENTS}",
                                            "appointment_id": "${current_id}",
                                            "email": "${user_email}",
                                            "ok": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ElementRandomizer",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "name": null,
                                                        "mode": "wild",
                                                        "elements": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "Okay. Your appointment is now canceled.",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "All right. I've cancelled your appointment.",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "Sure. Your appointment is now canceled.",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            }
                                                        ],
                                                        "loop": true,
                                                        "is_repeat": "",
                                                        "scope_type": "installation"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "fragment_id": "Exit"
                                                    }
                                                }
                                            ],
                                            "not_found": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "session",
                                                        "properties": {
                                                            "current_id": "${null}"
                                                        },
                                                        "parameters": "service"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "value": "Existing_Appointments",
                                                        "next": false
                                                    }
                                                }
                                            ],
                                            "result_var": "status",
                                            "timezone_mode": "DEFAULT",
                                            "_use_var_context_id": true
                                        }
                                    }
                                ],
                                "no": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Read_alright"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Exit"
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Help - cancel",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "If you want to cancel your upcoming appointment, say yes.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "reprompt",
                                            "text": "Say yes to cancel your upcoming appointment. Otherwise, say no.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.HelpIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ],
                    "fallback": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "Sorry, do you want to cancel the appointment?",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "reprompt",
                                "text": "Should I cancel your appointment? Yes or no?",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ConversationBlock",
                "namespace": "convo-core",
                "properties": {
                    "role": "conversation_block",
                    "block_id": "About",
                    "name": "About",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "Are you perhaps interested in info about our company?",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "reprompt",
                                "text": "Are you interested in company info? Say yes or no.",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        }
                    ],
                    "processors": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\YesNoProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": null,
                                "yes": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "About_us"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${state_previous == 'home'}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Thank you for using our app!",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "fragment_id": "Exit"
                                                    }
                                                }
                                            ],
                                            "else_if": [],
                                            "else": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "value": "state_previous",
                                                        "next": false
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "no": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "No_problem_"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "You can just ask me to give you company info next time.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Exit"
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Help - about",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "If you're interested in hearing about our company, say yes. Otherwise, say no.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "reprompt",
                                            "text": "Yes, if you're interested. No, if you're not. What's your decision?",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.HelpIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ],
                    "fallback": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "Are you interested in learning about our company? Yes or no?",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "reprompt",
                                "text": "If you're interested in hearing about our company, say yes.",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ConversationBlock",
                "namespace": "convo-core",
                "properties": {
                    "role": "service_processors",
                    "block_id": "Service_processors",
                    "name": "Service processors",
                    "elements": [],
                    "processors": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\ProcessProcessorFragment",
                            "namespace": "convo-core",
                            "properties": {
                                "fragment_id": "Process_main_menu"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\ProcessProcessorFragment",
                            "namespace": "convo-core",
                            "properties": {
                                "fragment_id": "Process_appointment_time"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Repeat",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadBlockAgainElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.RepeatIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Navigate home",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "value": "home",
                                            "next": false
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.StartOverIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.NavigateHomeIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "End session",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Exit"
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.StopIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ],
                    "fallback": []
                }
            }
        ],
        "fragments": [
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Check_user_profile",
                    "name": "Check user profile",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Alexa\\Elements\\GetAmazonCustomerProfileElement",
                            "namespace": "convo-alexa",
                            "properties": {
                                "name": "customer_profile_status",
                                "should_get_full_name": true,
                                "should_get_given_name": false,
                                "should_get_email_address": true,
                                "should_get_phone_number": false,
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "session",
                                            "parameters": "service",
                                            "properties": {
                                                "user_name": "${customer_profile_status.fullName}",
                                                "user_email": "${customer_profile_status.emailAddress}",
                                                "user_phone": "${customer_profile_status.phoneNumber.countryCode}"
                                            }
                                        }
                                    }
                                ],
                                "on_permission_not_granted": [
                                    {
                                        "class": "\\Convo\\Pckg\\Alexa\\Elements\\PromptPermissionsConsentElement",
                                        "namespace": "convo-alexa",
                                        "properties": {
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "In order to book and confirm appointments, we will need access to your name, email address, and phone number.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "To provide access, please enable profile permissions in the Amazon Alexa app.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\EndSessionElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                        }
                                    }
                                ],
                                "nok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "I'm sorry, something went wrong.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\EndSessionElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Initialize_new_appintment",
                    "name": "Initialize new appointment data",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                            "namespace": "convo-core",
                            "properties": {
                                "scope_type": "session",
                                "properties": {
                                    "new_appointment[\"date\"]": "${null}",
                                    "new_appointment[\"time\"]": "${null}"
                                },
                                "parameters": "service"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Read_suggestions_new",
                    "name": "Read suggestions",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\LoopElement",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Read suggestions",
                                "data_collection": "${status.suggestions}",
                                "item": "suggestion",
                                "elements": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "request",
                                            "properties": {
                                                "date_info": "${relative_date( suggestion.value.timestamp)}",
                                                "timestamp": "${ suggestion.value.timestamp}"
                                            },
                                            "parameters": "service"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${date_info.today}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "request",
                                                        "properties": {
                                                            "formatted": "Today at ${date(\"g:i a\", timestamp)}"
                                                        },
                                                        "parameters": "service"
                                                    }
                                                }
                                            ],
                                            "else_if": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "test": "${date_info.tomorrow}",
                                                        "then": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "scope_type": "request",
                                                                    "properties": {
                                                                        "formatted": "Tomorrow at ${date(\"g:i a\", timestamp)}"
                                                                    },
                                                                    "parameters": "service"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "test": "${date_info.this_week}",
                                                        "then": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "scope_type": "request",
                                                                    "properties": {
                                                                        "formatted": "this ${date(\"l\", timestamp)} at ${date(\"g:i a\", timestamp)}"
                                                                    },
                                                                    "parameters": "service"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "test": "${date_info.next_week}",
                                                        "then": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "scope_type": "request",
                                                                    "properties": {
                                                                        "formatted": "next ${date(\"l\", timestamp)} at ${date(\"g:i a\", timestamp)}"
                                                                    },
                                                                    "parameters": "service"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                }
                                            ],
                                            "else": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "request",
                                                        "properties": {
                                                            "formatted": "${date('l, F j', timestamp)} at ${date('g:i a', timestamp)}"
                                                        },
                                                        "parameters": "service"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\CommentElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "comment": "READ SUGGESTIONS",
                                            "context": null
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${count.suggestions === 0}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Would some other day fit your needs?",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ],
                                            "else_if": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "test": "${count.suggestions === 1}",
                                                        "then": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "${formatted}.",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                }
                                            ],
                                            "else": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "${suggestion.last ? \"and  \" : \"\"} ${formatted}${!suggestion.last ? \" \" : \"\"}${suggestion.last ? \".\" : \"\"}",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "offset": null,
                                "limit": "3"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Check_is_changed",
                    "name": "Track changes",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                            "namespace": "convo-core",
                            "properties": {
                                "test": "${result.date && new_appointment.date != result.date}",
                                "then": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "session",
                                            "properties": {
                                                "new_appointment[\"last_date\"]": "${new_appointment[\"date\"]}"
                                            },
                                            "parameters": "service"
                                        }
                                    }
                                ],
                                "else_if": [],
                                "else": []
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                            "namespace": "convo-core",
                            "properties": {
                                "test": "${result.time && new_appointment.time != result.time}",
                                "then": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "session",
                                            "properties": {
                                                "new_appointment[\"last_time\"]": "${new_appointment[\"time\"]}"
                                            },
                                            "parameters": "service"
                                        }
                                    }
                                ],
                                "else_if": [],
                                "else": []
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Read_help",
                    "name": "Read help",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "I can help you schedule a new appointment, cancel or reschedule the existing. What is your choice?",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "reprompt",
                                "text": "What do you want to do: schedule new, reschedule or cancel?",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Read_alright",
                    "name": "Read alright",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\ElementRandomizer",
                            "namespace": "convo-core",
                            "properties": {
                                "name": null,
                                "mode": "wild",
                                "elements": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Alright then.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "No problem.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Okay.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "loop": false,
                                "is_repeat": "",
                                "scope_type": "installation"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "No_problem_",
                    "name": "Read no problem",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\ElementRandomizer",
                            "namespace": "convo-core",
                            "properties": {
                                "name": null,
                                "mode": "wild",
                                "elements": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "That's okay.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "No problem.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "That's all right.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "loop": true,
                                "is_repeat": "",
                                "scope_type": "installation"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Change_mind_statement",
                    "name": "Read change mind",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\ElementRandomizer",
                            "namespace": "convo-core",
                            "properties": {
                                "name": null,
                                "mode": "wild",
                                "elements": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Let me know if you change your mind.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "I'll be here if you change your mind.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "loop": true,
                                "is_repeat": "",
                                "scope_type": "installation"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "About_us",
                    "name": "Read about us",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "We are a small, but passionate company from Varazdin, Croatia.",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Function_Friendly_format_full_date",
                    "name": "Function - Friendly format full date",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\CommentElement",
                            "namespace": "convo-core",
                            "properties": {
                                "comment": "INPUT: dateformat_date String, OUTPUT: dateformat_formatted String",
                                "context": null
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\CommentElement",
                            "namespace": "convo-core",
                            "properties": {
                                "comment": "Will format passed date in a human friendly manner using today, tomorrow, next week ....",
                                "context": null
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                            "namespace": "convo-core",
                            "properties": {
                                "scope_type": "request",
                                "properties": {
                                    "dateformat_date_info": "${relative_date( dateformat_date)}"
                                },
                                "parameters": "service"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                            "namespace": "convo-core",
                            "properties": {
                                "test": "${is_int( dateformat_date)}",
                                "then": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "request",
                                            "properties": {
                                                "dateformat_timestamp": "${dateformat_date}"
                                            },
                                            "parameters": "service"
                                        }
                                    }
                                ],
                                "else_if": [],
                                "else": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "request",
                                            "properties": {
                                                "dateformat_timestamp": "${strtotime( dateformat_date)}"
                                            },
                                            "parameters": "service"
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                            "namespace": "convo-core",
                            "properties": {
                                "test": "${dateformat_date_info.today}",
                                "then": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "request",
                                            "properties": {
                                                "dateformat_formatted": "today at ${date( TIME_FORMAT, dateformat_timestamp)}"
                                            },
                                            "parameters": "service"
                                        }
                                    }
                                ],
                                "else_if": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${dateformat_date_info.tomorrow}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "request",
                                                        "properties": {
                                                            "dateformat_formatted": "tomorrow at ${date( TIME_FORMAT, dateformat_timestamp)}"
                                                        },
                                                        "parameters": "service"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${dateformat_date_info.this_week}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "request",
                                                        "properties": {
                                                            "dateformat_formatted": "this ${date( FULL_DATE_FORMAT, dateformat_timestamp)}"
                                                        },
                                                        "parameters": "service"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${dateformat_date_info.next_week}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "request",
                                                        "properties": {
                                                            "dateformat_formatted": "next ${date( FULL_DATE_FORMAT, dateformat_timestamp)}"
                                                        },
                                                        "parameters": "service"
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "else": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "request",
                                            "properties": {
                                                "dateformat_formatted": "${date( FULL_DATE_FORMAT, dateformat_timestamp)}"
                                            },
                                            "parameters": "service"
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "MAX_NUMBER_CHECK",
                    "name": "Max number check",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Appointments\\LoadAppointmentsElement",
                            "namespace": "convo-appointments",
                            "properties": {
                                "context_id": "${APPOINTMENTS}",
                                "email": "${user_email}",
                                "mode": "current",
                                "number_of_appointments_to_load": "10",
                                "return_var": "check",
                                "single": [],
                                "multiple": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${count(check.appointments) === MAX_APPOINTMENTS_PER_PERSON}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "I'm sorry, but you already have a maximum number of scheduled appointments:",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "value": "Existing_Appointments",
                                                        "next": false
                                                    }
                                                }
                                            ],
                                            "else_if": [],
                                            "else": []
                                        }
                                    }
                                ],
                                "empty": [],
                                "timezone_mode": "DEFAULT",
                                "_use_var_context_id": true
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Working_hours",
                    "name": "Working days and hours - intro",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "We are usually available Monday to Friday, from 9am to 5pm.",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Working_days_and_hours_not_allowed",
                    "name": "Working days and hours - not_allowed",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                            "namespace": "convo-core",
                            "properties": {
                                "type": "default",
                                "text": "I'm sorry, we only work Monday to Friday, from 9am to 5pm.",
                                "append": false,
                                "alexa_domain": "normal",
                                "alexa_emotion": "neutral",
                                "alexa_emotion_intensity": "medium"
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Format_list_appointments",
                    "name": "Format date for list appointments",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                            "namespace": "convo-core",
                            "properties": {
                                "scope_type": "request",
                                "properties": {
                                    "date_info": "${relative_date( appointment.value.timestamp)}",
                                    "timestamp": "${appointment.value.timestamp}"
                                },
                                "parameters": "service"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                            "namespace": "convo-core",
                            "properties": {
                                "test": "${date_info.today}",
                                "then": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "request",
                                            "properties": {
                                                "formatted": "Today at ${date(\"g:i a\", timestamp)}"
                                            },
                                            "parameters": "service"
                                        }
                                    }
                                ],
                                "else_if": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${date_info.tomorrow}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "request",
                                                        "properties": {
                                                            "formatted": "Tomorrow at ${date(\"g:i a\", timestamp)}"
                                                        },
                                                        "parameters": "service"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${date_info.this_week}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "request",
                                                        "properties": {
                                                            "formatted": "this ${date(\"l\", timestamp)} at ${date(\"g:i a\", timestamp)}"
                                                        },
                                                        "parameters": "service"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${date_info.next_week}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "scope_type": "request",
                                                        "properties": {
                                                            "formatted": "next ${date(\"l\", timestamp)} at ${date(\"g:i a\", timestamp)}"
                                                        },
                                                        "parameters": "service"
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "else": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "request",
                                            "properties": {
                                                "formatted": "${date('l, F j', timestamp)} at ${date('g:i a', timestamp)}"
                                            },
                                            "parameters": "service"
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Elements\\ElementsFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Exit",
                    "name": "Exit",
                    "elements": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\ElementRandomizer",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Goodbye",
                                "mode": "wild",
                                "elements": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Until next time.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Bye.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Have a good one.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    }
                                ],
                                "loop": true,
                                "is_repeat": "",
                                "scope_type": "installation"
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Elements\\EndSessionElement",
                            "namespace": "convo-core",
                            "properties": {
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Processors\\ProcessorFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Process_appointment_time",
                    "name": "Process appointment date and time",
                    "processors": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Process appointment date and time",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Check_is_changed"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "session",
                                            "properties": {
                                                "new_appointment[\"date\"]": "${result.date}",
                                                "new_appointment[\"time\"]": "${result.time}"
                                            },
                                            "parameters": "service"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "value": "Schedule_Appointment",
                                            "next": false
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "DateTimeOnlyIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "DateTimeIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Process appointment date",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Check_is_changed"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "session",
                                            "properties": {
                                                "new_appointment[\"date\"]": "${result.date}"
                                            },
                                            "parameters": "service"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "value": "Schedule_Appointment",
                                            "next": false
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "DateOnlyIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "DateIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Process appointment time",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Check_is_changed"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "session",
                                            "properties": {
                                                "new_appointment[\"time\"]": "${result.time}"
                                            },
                                            "parameters": "service"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "value": "Schedule_Appointment",
                                            "next": false
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "TimeOnlyIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "TimeIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Processors\\ProcessorFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Process_main_menu",
                    "name": "Process main menu",
                    "processors": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "New appointment",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\CommentElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "comment": "HANDLE MAX APPOINTMENTS PER PERSON",
                                            "context": null
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "MAX_NUMBER_CHECK"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "Great! Let's book a new appointment for you.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Initialize_new_appintment"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\CommentElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "comment": "QUICK FIX FOR NEW APOINTMENT CREATION NOT WORKING",
                                            "context": null
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "session",
                                            "parameters": "service",
                                            "properties": {
                                                "initialize_new": "${true}"
                                            }
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "value": "Schedule_Appointment",
                                            "next": false
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "NewAppointmentIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "About",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "About_us"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "type": "default",
                                            "text": "<break time=\"1s\"\/>That's enough about us.",
                                            "append": false,
                                            "alexa_domain": "normal",
                                            "alexa_emotion": "neutral",
                                            "alexa_emotion_intensity": "medium"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "value": "state",
                                            "next": false
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "Aboutntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "List appointments",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Appointments\\LoadAppointmentsElement",
                                        "namespace": "convo-appointments",
                                        "properties": {
                                            "context_id": "${APPOINTMENTS}",
                                            "email": "${user_email}",
                                            "mode": "current",
                                            "number_of_appointments_to_load": "10",
                                            "return_var": "status",
                                            "single": [],
                                            "multiple": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "test": "${count( status.appointments) === 1}",
                                                        "then": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "value": "Existing_Appointments",
                                                                    "next": false
                                                                }
                                                            }
                                                        ],
                                                        "else_if": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\ElseIfElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "test": "${count( status.appointments) < 3}",
                                                                    "then": [
                                                                        {
                                                                            "class": "\\Convo\\Pckg\\Core\\Elements\\LoopElement",
                                                                            "namespace": "convo-core",
                                                                            "properties": {
                                                                                "name": null,
                                                                                "data_collection": "${status.appointments}",
                                                                                "item": "appointment",
                                                                                "elements": [
                                                                                    {
                                                                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                                                        "namespace": "convo-core",
                                                                                        "properties": {
                                                                                            "fragment_id": "Format_list_appointments"
                                                                                        }
                                                                                    },
                                                                                    {
                                                                                        "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                                                                        "namespace": "convo-core",
                                                                                        "properties": {
                                                                                            "test": "${appointment.first}",
                                                                                            "then": [
                                                                                                {
                                                                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                                                    "namespace": "convo-core",
                                                                                                    "properties": {
                                                                                                        "type": "default",
                                                                                                        "text": "Besides the ${formatted} appointment, you have ${count( status.appointments) -1} other:",
                                                                                                        "append": false,
                                                                                                        "alexa_domain": "normal",
                                                                                                        "alexa_emotion": "neutral",
                                                                                                        "alexa_emotion_intensity": "medium"
                                                                                                    }
                                                                                                }
                                                                                            ],
                                                                                            "else_if": [],
                                                                                            "else": [
                                                                                                {
                                                                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                                                    "namespace": "convo-core",
                                                                                                    "properties": {
                                                                                                        "type": "default",
                                                                                                        "text": "${formatted}.",
                                                                                                        "append": false,
                                                                                                        "alexa_domain": "normal",
                                                                                                        "alexa_emotion": "neutral",
                                                                                                        "alexa_emotion_intensity": "medium"
                                                                                                    }
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    }
                                                                                ],
                                                                                "offset": null,
                                                                                "limit": null,
                                                                                "loop_until": ""
                                                                            }
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        ],
                                                        "else": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\LoopElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "name": null,
                                                                    "data_collection": "${status.appointments}",
                                                                    "item": "appointment",
                                                                    "elements": [
                                                                        {
                                                                            "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                                            "namespace": "convo-core",
                                                                            "properties": {
                                                                                "fragment_id": "Format_list_appointments"
                                                                            }
                                                                        },
                                                                        {
                                                                            "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                                                            "namespace": "convo-core",
                                                                            "properties": {
                                                                                "test": "${appointment.first}",
                                                                                "then": [
                                                                                    {
                                                                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                                        "namespace": "convo-core",
                                                                                        "properties": {
                                                                                            "type": "default",
                                                                                            "text": "Besides the ${formatted} appointment, you have ${count( status.appointments) -1} others:",
                                                                                            "append": false,
                                                                                            "alexa_domain": "normal",
                                                                                            "alexa_emotion": "neutral",
                                                                                            "alexa_emotion_intensity": "medium"
                                                                                        }
                                                                                    }
                                                                                ],
                                                                                "else_if": [],
                                                                                "else": [
                                                                                    {
                                                                                        "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                                        "namespace": "convo-core",
                                                                                        "properties": {
                                                                                            "type": "default",
                                                                                            "text": "${appointment.last ? \"and  \" : \"\"} ${formatted}${!appointment.last ? \" \" : \"\"}${appointment.last ? \".\" : \"\"}",
                                                                                            "append": false,
                                                                                            "alexa_domain": "normal",
                                                                                            "alexa_emotion": "neutral",
                                                                                            "alexa_emotion_intensity": "medium"
                                                                                        }
                                                                                    }
                                                                                ]
                                                                            }
                                                                        }
                                                                    ],
                                                                    "offset": null,
                                                                    "limit": null,
                                                                    "loop_until": ""
                                                                }
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "type": "default",
                                                        "text": "Let me know if you need anything else.",
                                                        "append": false,
                                                        "alexa_domain": "normal",
                                                        "alexa_emotion": "neutral",
                                                        "alexa_emotion_intensity": "medium"
                                                    }
                                                },
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "fragment_id": "Exit"
                                                    }
                                                }
                                            ],
                                            "empty": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "value": "home",
                                                        "next": false
                                                    }
                                                }
                                            ],
                                            "timezone_mode": "SET",
                                            "_use_var_context_id": true,
                                            "timezone": "${TIMEZONE}"
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "ListAppointmentsIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Cancel appointment",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${!current_id}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Appointments\\LoadAppointmentsElement",
                                                    "namespace": "convo-appointments",
                                                    "properties": {
                                                        "context_id": "${APPOINTMENTS}",
                                                        "email": "${user_email}",
                                                        "mode": "current",
                                                        "number_of_appointments_to_load": 10,
                                                        "return_var": "status",
                                                        "empty": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "value": "home",
                                                                    "next": false
                                                                }
                                                            }
                                                        ],
                                                        "multiple": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "scope_type": "session",
                                                                    "properties": {
                                                                        "current_id": "${ status.appointments[0][\"appointment_id\"]}"
                                                                    },
                                                                    "parameters": "service"
                                                                }
                                                            }
                                                        ],
                                                        "single": [],
                                                        "timezone_mode": "DEFAULT",
                                                        "_use_var_context_id": true
                                                    }
                                                }
                                            ],
                                            "else_if": [],
                                            "else": []
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "value": "Existing_Appointments_Cancel",
                                            "next": false
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "CancelAppointmentIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Reschedule appointment",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\IfElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "test": "${!current_id}",
                                            "then": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Appointments\\LoadAppointmentsElement",
                                                    "namespace": "convo-appointments",
                                                    "properties": {
                                                        "context_id": "${APPOINTMENTS}",
                                                        "email": "${user_email}",
                                                        "mode": "current",
                                                        "number_of_appointments_to_load": 10,
                                                        "return_var": "status",
                                                        "empty": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\TextResponseElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "type": "default",
                                                                    "text": "You don't have any scheduled appointments.",
                                                                    "append": false,
                                                                    "alexa_domain": "normal",
                                                                    "alexa_emotion": "neutral",
                                                                    "alexa_emotion_intensity": "medium"
                                                                }
                                                            },
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "value": "home",
                                                                    "next": false
                                                                }
                                                            }
                                                        ],
                                                        "multiple": [
                                                            {
                                                                "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                                                "namespace": "convo-core",
                                                                "properties": {
                                                                    "scope_type": "session",
                                                                    "properties": {
                                                                        "current_id": "${ status.appointments[0][\"appointment_id\"]}"
                                                                    },
                                                                    "parameters": "service"
                                                                }
                                                            }
                                                        ],
                                                        "single": [],
                                                        "timezone_mode": "DEFAULT",
                                                        "_use_var_context_id": true
                                                    }
                                                }
                                            ],
                                            "else_if": [],
                                            "else": []
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "value": "Schedule_Appointment",
                                            "next": false
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "RescheduleAppointmentIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            },
            {
                "class": "\\Convo\\Pckg\\Core\\Processors\\ProcessorFragment",
                "namespace": "convo-core",
                "properties": {
                    "fragment_id": "Process_cancel_flow",
                    "name": "Process cancel flow",
                    "processors": [
                        {
                            "class": "\\Convo\\Pckg\\Core\\Processors\\SimpleProcessor",
                            "namespace": "convo-core",
                            "properties": {
                                "name": "Cancel",
                                "ok": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\SetParamElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "scope_type": "session",
                                            "properties": {
                                                "current_id": "${null}"
                                            },
                                            "parameters": "service"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\ReadElementsFragment",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "fragment_id": "Read_alright"
                                        }
                                    },
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Elements\\GoToElement",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "value": "home",
                                            "next": false
                                        }
                                    }
                                ],
                                "request_filters": [
                                    {
                                        "class": "\\Convo\\Pckg\\Core\\Filters\\IntentRequestFilter",
                                        "namespace": "convo-core",
                                        "properties": {
                                            "name": null,
                                            "readers": [
                                                {
                                                    "class": "\\Convo\\Pckg\\Core\\Filters\\ConvoIntentReader",
                                                    "namespace": "convo-core",
                                                    "properties": {
                                                        "intent": "convo-core.CancelIntent",
                                                        "required_slots": "",
                                                        "values": [],
                                                        "rename": []
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            }
        ],
        "properties": []
    }
}